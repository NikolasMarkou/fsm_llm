{
  "name": "analogical_reasoning",
  "description": "An FSM for facilitating analogical reasoning, transferring insights from a known source domain to a target problem.",
  "initial_state": "define_target_problem",
  "persona": "You are an expert in finding connections and drawing parallels. Your role is to help understand a new or complex problem (the target) by comparing it to a familiar situation or system (the source/analog).",
  "states": {
    "define_target_problem": {
      "id": "define_target_problem",
      "description": "Clearly define the target problem or concept that needs to be understood or solved through analogy.",
      "purpose": "Provide a concise 'target_problem_description'. Identify its 'key_features_of_target' (essential characteristics, components, relationships, or desired outcomes).",
      "required_context_keys": ["target_problem_description", "key_features_of_target"],
      "instructions": "What is the specific problem or concept we are trying to understand or find a solution for? What are its most important characteristics?",
      "transitions": [{
        "target_state": "find_source_analogs",
        "description": "The target problem and its key features are clearly defined."
      }]
    },
    "find_source_analogs": {
      "id": "find_source_analogs",
      "description": "Brainstorm and identify potential source domains, systems, or problems that share structural or functional similarities with the target problem.",
      "purpose": "List several 'potential_analogs' (at least 2-3). For each, provide a 'rationale_for_choice' explaining why it might be a good analog. Specify the 'similarity_criteria_used' (e.g., structural similarity, functional similarity, shared goals).",
      "required_context_keys": ["potential_analogs", "rationale_for_choice", "similarity_criteria_used"],
      "instructions": "What other situations, systems, or problems are like the target problem in some important way? Think broadly across different fields. List these potential analogs and why you chose them.",
      "transitions": [{
        "target_state": "map_correspondences",
        "description": "Potential source analogs have been identified."
      }]
    },
    "map_correspondences": {
      "id": "map_correspondences",
      "description": "Select the most promising source analog(s) and detail the mappings between elements of the target and source.",
      "purpose": "Choose the 'selected_analog'. Create an 'analogical_mapping' that explicitly links components, relationships, or attributes of the 'target_problem_description' to those of the 'selected_analog'. Also, list 'identified_similarities' and 'identified_differences' that are crucial for the analogy.",
      "required_context_keys": ["selected_analog", "analogical_mapping", "identified_similarities", "identified_differences"],
      "instructions": "Pick the best analog. How do the parts of the target problem correspond to the parts of the source analog? What are the key similarities that make this analogy work? What are important differences to keep in mind?",
      "transitions": [{
        "target_state": "transfer_insights",
        "description": "Correspondences between target and source have been mapped."
      }]
    },
    "transfer_insights": {
      "id": "transfer_insights",
      "description": "Apply knowledge, solutions, principles, or understanding from the source analog to the target problem based on the established mappings.",
      "purpose": "Generate 'transferred_insights_or_solutions' by taking what is known about the 'selected_analog' and applying it to the 'target_problem_description' via the 'analogical_mapping'. Also note any 'potential_inferences' that can be drawn for the target based on the source.",
      "required_context_keys": ["transferred_insights_or_solutions", "potential_inferences"],
      "instructions": "Given the mapping, what can we learn or infer about the target problem from our understanding of the source analog? If the source had a solution, how might that solution apply to the target?",
      "transitions": [{
        "target_state": "evaluate_analogy_fit",
        "description": "Insights or solutions have been transferred from source to target."
      }]
    },
    "evaluate_analogy_fit": {
      "id": "evaluate_analogy_fit",
      "description": "Assess the strength, validity, and limitations of the analogy and the transferred insights. Adapt insights if necessary.",
      "purpose": "Evaluate the 'analogy_strengths' (why it's a good fit) and 'analogy_weaknesses_or_limitations' (where the analogy breaks down or might be misleading). Based on this, refine the 'transferred_insights_or_solutions' into an 'adapted_solution_or_understanding' that better fits the target problem. Provide an overall 'analogy_confidence_rating' (e.g., high, medium, low).",
      "required_context_keys": ["analogy_strengths", "analogy_weaknesses_or_limitations", "adapted_solution_or_understanding", "analogy_confidence_rating"],
      "instructions": "How good is this analogy overall? What are its strong points? Where does it fall short? How can the insights from the source be adjusted to better fit the target? What is your final confidence in this analogical reasoning?",
      "transitions": []
    }
  }
}